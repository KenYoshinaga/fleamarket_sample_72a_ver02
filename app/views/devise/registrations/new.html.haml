.wrap.page_regist.one_col.page_form
  .logo_wrap
    .logo
      = image_tag("logo.png", alt: "ロゴ")
  .contents_box
    %h2.content_ttl
      会員情報入力
    .form
      .form__inner
        = form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f|
          = devise_error_messages!
          .field
            .field-list
              = f.label value="ニックネーム", class:'nickname required'
              = f.text_field :nickname, autofocus: true,placeholder:"ニックネーム",clsss:'req',id:'Nickname'
            .field-list
              = f.label value="メールアドレス", class:'email required'
              = f.email_field :email, placeholder:"PC・携帯どちらでも可", autocomplete: "email"
            .field-list
              = f.label value="パスワード", class:'password required'
              /- if @minimum_password_length
              /  %em
              /    （#{@minimum_password_length}文字以上の半角英数字で入力してください）
              = f.password_field :password,placeholder:"7文字以上の半角英数字", autocomplete: "new-password"
              .attention
                %p
                  ※ #{@minimum_password_length}文字以上の英字と数字の両方を含めて設定してください
            .field-list
              = f.label value="パスワード確認", class:'password required'
              = f.password_field :password_confirmation, placeholder:"7文字以上の半角英数字", autocomplete: "new-password"
            .field-list
              .attention
                %span
                  本人確認
                %p
                  安心・安全にご利用いただくために、お客さまの本人情報の登録にご協力ください。他のお客さまに公開されることはありません。
              = f.label value="お名前(全角)", class:'name required'
              %ul#set_2coluum
                %li.f_half
                  = f.text_field :family_name, placeholder:"例）山田", clsss:'req', id:'name_01'
                %li.f_half
                  = f.text_field :first_name, placeholder:"例）彩", clsss:'req', id:'name_02'
            .field-list
              = f.label value="お名前カナ(全角)", class:'name required'
              %ul#set_2coluum
                %li.f_half
                  = f.text_field :family_name_kana, placeholder:"例）ヤマダ", clsss:'req', id:'kana_01'
                %li.f_half
                  = f.text_field :first_name_kana, placeholder:"例）アヤ", clsss:'req', id:'kana_02'
            .field-list
              = f.label value="生年月日", class:'birthday required'
              %ul#set_3coluum.birthday_select
                %li.f_trisection.year
                  %select{:name => "user[birth_year]"}
                    %option{:value => ""} --
                    - for i in 1979..2020
                      %option{:value => "#{i}"} #{i}
                %li.f_trisection.manth
                  %select{:name => "user[birth_month]"}
                    %option{:value => ""} --
                    - for i in 1..12
                      %option{:value => "#{i}"} #{i}
                %li.f_trisection.day
                  %select{:name => "user[birth_day]"}
                    %option{:value => ""} --
                    - for i in 1..31
                      %option{:value => "#{i}"} #{i}
              .attention
                %p.c_gray
                  ※ 本人情報は正しく入力してください。会員登録後、修正するにはお時間を頂く場合があります。
            .field-list
              %p.form_sub-ttl
                お届け先住所
              = f.label value="郵便番号", class:'postal_code required'
              = f.text_field :postcode, autofocus: true,placeholder:"例）000-0000",clsss:'req',id:'Post_Code'
            .field-list
              = f.label value="都道府県", class:'prefectures required'
              %ul
                %li
                  %select{:name => "user[province]"}
                    %option{:value => ""} 選択してください
                    %option{:value => "北海道"} 北海道
                    %option{:value => "青森県"} 青森県
                    %option{:value => "岩手県"} 岩手県
                    %option{:value => "宮城県"} 宮城県
                    %option{:value => "秋田県"} 秋田県
                    %option{:value => "山形県"} 山形県
                    %option{:value => "福島県"} 福島県
                    %option{:value => "茨城県"} 茨城県
                    %option{:value => "栃木県"} 栃木県
                    %option{:value => "群馬県"} 群馬県
                    %option{:value => "埼玉県"} 埼玉県
                    %option{:value => "千葉県"} 千葉県
                    %option{:value => "東京都"} 東京都
                    %option{:value => "神奈川県"} 神奈川県
                    %option{:value => "新潟県"} 新潟県
                    %option{:value => "富山県"} 富山県
                    %option{:value => "石川県"} 石川県
                    %option{:value => "福井県"} 福井県
                    %option{:value => "山梨県"} 山梨県
                    %option{:value => "長野県"} 長野県
                    %option{:value => "岐阜県"} 岐阜県
                    %option{:value => "静岡県"} 静岡県
                    %option{:value => "愛知県"} 愛知県
                    %option{:value => "三重県"} 三重県
                    %option{:value => "滋賀県"} 滋賀県
                    %option{:value => "京都府"} 京都府
                    %option{:value => "大阪府"} 大阪府
                    %option{:value => "兵庫県"} 兵庫県
                    %option{:value => "奈良県"} 奈良県
                    %option{:value => "和歌山県"} 和歌山県
                    %option{:value => "鳥取県"} 鳥取県
                    %option{:value => "島根県"} 島根県
                    %option{:value => "岡山県"} 岡山県
                    %option{:value => "広島県"} 広島県
                    %option{:value => "山口県"} 山口県
                    %option{:value => "徳島県"} 徳島県
                    %option{:value => "香川県"} 香川県
                    %option{:value => "愛媛県"} 愛媛県
                    %option{:value => "高知県"} 高知県
                    %option{:value => "福岡県"} 福岡県
                    %option{:value => "佐賀県"} 佐賀県
                    %option{:value => "長崎県"} 長崎県
                    %option{:value => "熊本県"} 熊本県
                    %option{:value => "大分県"} 大分県
                    %option{:value => "宮崎県"} 宮崎県
                    %option{:value => "鹿児島県"} 鹿児島県
                    %option{:value => "沖縄県"} 沖縄県
                    %option{:value => "未定"} 未定


            .field-list
              = f.label value="市区町村", class:'address_detail required'
              = f.text_field :city, placeholder:"例）港区",clsss:'req',id:'city'
            .field-list
              = f.label value="番地", class:'address_detail required'
              = f.text_field :address1, placeholder:"例）青山1-1-1",clsss:'req',id:'AddressDetail'
            .field-list
              = f.label value="建物名", class:'address_detail option'
              = f.text_field :address2 ,placeholder:"例）柳ビル103",clsss:'',id:'Building'
            .field-list
              %p.form_sub-ttl
                受取人様の情報
              = f.label value="お名前(全角)", class:'name required'
              %ul#set_2coluum
                %li.f_half
                  = f.text_field :delivery_family_name, placeholder:"例）山田", clsss:'req', id:'name_03'
                %li.f_half
                  = f.text_field :delivery_first_name, placeholder:"例）彩", clsss:'req', id:'name_04'
            .field-list
              = f.label value="お名前カナ(全角)", class:'name required'
              %ul#set_2coluum
                %li.f_half
                  = f.text_field :delivery_family_name_kana, placeholder:"例）ヤマダ", clsss:'req', id:'kana_03'
                %li.f_half
                  = f.text_field :delivery_first_name_kana, placeholder:"例）アヤ", clsss:'req', id:'kana_04'
            .field-list
              = f.label value="電話", class:'address_detail option'
              = f.text_field :tellphone_number ,placeholder:"例）090123456878",clsss:'',id:'Tel'

            %ul.btn_wrap
              %li.btn_style
                = f.submit "登録"

:javascript
  jQuery.validator.addMethod("han_em", function(value, element) {
    return this.optional( element ) || /^[a-zA-Z0-9]+$/.test( value );
  }, '半角英数字でご入力ください。');

  jQuery.validator.addMethod("zen", function(value, element) {
    return this.optional( element ) || /^[ぁ-んァ-ン一-龥]/.test( value );
  }, '全角で入力してください。');

  jQuery.validator.addMethod("katakana", function(value, element) {
    return this.optional( element ) || /^[ア-ン゛゜ァ-ォャ-ョー「」、]+$/.test( value );
  }, '全角カタカナでご入力ください。');

  jQuery.validator.addMethod("isZip", function(value, element) {
    return this.optional( element ) || /^\d{3}-?\d{4}$/.test( value );
  }, '郵便番号をご確認ください。');

  jQuery.validator.addMethod("han_m", function(value, element) {
    return this.optional( element ) || /^[0-9]+$/.test( value );
  }, '半角数字でご入力ください。');



  $("#new_user").validate({
    rules: {
      "user[nickname]": {
        required: true
      },
      "user[email]": {
        required: true
      },
      "user[password]": {
        required: true,
        minlength: 7,
        han_em: true
      },
      "user[password_confirmation]": {
        required: true,
        minlength: 7,
        han_em: true,
        equalTo: "#user_password"
      },
      "user[family_name]": {
        required: true,
        zen: true
      },
      "user[first_name]": {
        required: true,
        zen: true
      },
      "user[family_name_kana]": {
        required: true,
        katakana: true
      },
      "user[first_name_kana]": {
        required: true,
        katakana: true
      },
      "user[birth_year]": {
        required: true
      },
      "user[birth_month]": {
        required: true
      },
      "user[birth_day]": {
        required: true
      },
      "user[postcode]": {
        required: true,
        isZip: true
      },
      "user[province]": {
        required: true
      },
      "user[city]": {
        required: true
      },
      "user[address1]": {
        required: true
      },
      "user[delivery_family_name]": {
        required: true
      },
      "user[delivery_first_name]": {
        required: true
      },
      "user[delivery_family_name_kana]": {
        required: true,
        katakana: true
      },
      "user[delivery_first_name_kana]": {
        required: true,
        katakana: true
      },
      "user[tellphone_number]": {
        han_m: true
      }
    },
    messages: {
      "user[password]": {
          minlength: "7文字以上の半角英数字でご入力ください"
      },
      "user[password_confirmation]": {
          minlength: "7文字以上の半角英数字でご入力ください",
          equalTo: "パスワードが一致しません"
      },
    }
  });